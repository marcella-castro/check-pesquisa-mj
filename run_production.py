#!/usr/bin/env python3
"""
Script simplificado para deploy em produ√ß√£o
"""

import os
import sys
from pathlib import Path

# Adicionar o diret√≥rio src ao path do Python
current_dir = Path(__file__).parent
src_dir = current_dir / "src"
sys.path.insert(0, str(src_dir))

# For√ßar modo produ√ß√£o
os.environ.setdefault('DEBUG', 'False')
os.environ.setdefault('HOST', '0.0.0.0')
os.environ.setdefault('PORT', '8050')

if __name__ == "__main__":
    try:
        # Import simplificado
        print("üöÄ Iniciando aplica√ß√£o em modo produ√ß√£o...")
        
        from app import app
        
        port = int(os.environ.get('PORT', 8050))
        host = os.environ.get('HOST', '0.0.0.0')
        
        print(f"   Rodando em: {host}:{port}")
        
        # Sempre debug=False em produ√ß√£o
        app.run_server(debug=False, host=host, port=port)
        
    except Exception as e:
        print(f"‚ùå Erro: {e}")
        import traceback
        traceback.print_exc()
        sys.exit(1)
